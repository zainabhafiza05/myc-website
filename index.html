<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Muslimah Youth for Change</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Crimson+Text&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@100;400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Marcellus&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Tan+Pearl&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">


  <!-- Styles -->
  <link rel="stylesheet" href="styles/global.css" />
  <link rel="stylesheet" href="styles/bismillah.css" />
  <link rel="stylesheet" href="styles/taskbar.css" />
  <link rel="stylesheet" href="styles/hero.css" />
  <link href="styles/description.css" rel="stylesheet" />
  <link href="styles/buttons.css" rel="stylesheet" />
  <link href="styles/offerings.css" rel="stylesheet" />
  <link href="styles/testimonial.css" rel="stylesheet" />
  <link href="styles/testimonial.css" rel="stylesheet" />
  <link href="styles/footer.css" rel="stylesheet" />
  <link href="styles/events.css" rel="stylesheet" />

  <!-- Pages -->
  <a href="about.html">About Us</a>
</head>
<body>

  <!-- Bismillah Banner -->
  <div class="bismillah-bar">
    <img src="assets/bismillah.png" alt="Bismillah Calligraphy" class="bismillah-img" />
  </div>

  <header class="taskbar">
    <div class="taskbar-container">
      <a href="index.html" class="home-link">
        <div class="left-section">
          <img src="assets/logo.png" alt="MYC Logo" class="logo" />
          <span class="site-title">Muslimah Youth for Change</span>
        </div>
      </a>
      <nav class="right-section">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="events.html">Events</a>
        <a href="programs.html">Programs</a>
        <a href="gallery.html">Gallery</a>
        <a href="resources.html">Resources</a>
        <a href="join.html">Join</a>
      </nav>
    </div>
  </header>

  <!-- Components -->
  <div id="taskbar"></div>
  <!-- <div id="hero"></div> -->

  <section class="hero">
    <div class="decorative-elements">
      <div class="floating-shape shape-1"></div>
      <div class="floating-shape shape-2"></div>
      <div class="floating-shape shape-3"></div>
      <!-- <div class="floating-shape shape-4"></div> -->
      <!-- <div class="floating-shape shape-5"></div> -->
    </div>
    <div class="hero-content">
      <img src="assets/logo.png" alt="MYC Logo" class="hero-logo" />

      <h1 class="hero-title">Muslimah Youth for Change</h1>

      <div class="hero-tagline">
        Empowering Muslim Women Through Faith and Sisterhood
      </div>

      <div class="hero-location">
        <span class="location-icon">üìç</span> EASTSIDE, WASHINGTON
      </div>

      <div class="stats-section">
        <div class="stat">
          <div class="stat-content">
            <span class="stat-number" data-target="251">250+</span><br/>
            <span class="stat-label">Active Members</span>
          </div>
        </div>
        <div class="stat">
          <div class="stat-content">
            <span class="stat-number" data-target="5">5</span><br/>
            <span class="stat-label">Years Strong</span>
          </div>
        </div>
        <div class="stat">
          <div class="stat-content">
            <span class="stat-number" data-target="71">70+</span><br/>
            <span class="stat-label">Events</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div id="description"></div>
  <div id="buttons"></div>
  <div id="offerings"></div>
  <div id="events"></div>
  <div id="testimonials"></div>
  <section class="white-bar"></section>
  <div id="footer"></div>

  <!-- Scripts -->
  <script src="scripts/loadComponents.js"></script>
  <script>
    // Smooth vertical slot machine spinning counter function
    function animateSlotMachine(element, target, finalText, duration = 2500) {
        const spinDuration = duration * 0.8; // 80% of time for spinning
        const settleDuration = duration * 0.2; // 20% of time for settling

        let startTime = null;
        let currentValue = 0;
        let animationId = null;

        // Store original text content
        const originalText = element.textContent;

        // Create reel container
        const reel = document.createElement('div');
        reel.className = 'number-reel';
        reel.style.transition = 'transform 0.05s linear';

        const digit = document.createElement('div');
        digit.className = 'number-digit';
        digit.textContent = '0';

        reel.appendChild(digit);
        element.innerHTML = '';
        element.appendChild(reel);
        element.style.visibility = 'visible';

        function animate(timestamp) {
            if (!startTime) startTime = timestamp;
            const elapsed = timestamp - startTime;
            const totalProgress = elapsed / duration;

            if (totalProgress < 0.8) {
                // Spinning phase - continuous smooth animation
                const spinProgress = elapsed / spinDuration;

                // Calculate spin speed (starts fast, slows down)
                const baseSpeed = 0.3;
                const speedMultiplier = Math.pow(1 - spinProgress, 2) * 15 + 1;
                const spinSpeed = baseSpeed * speedMultiplier;

                // Generate value with bias toward target
                const bias = target * Math.pow(spinProgress, 2) * 0.8;
                const randomRange = target * (1 - spinProgress * 0.9);
                const randomOffset = (Math.random() - 0.5) * randomRange;
                const newValue = Math.max(0, Math.floor(bias + randomOffset));

                // Smooth vertical movement
                const movement = Math.sin(elapsed * spinSpeed) * 80;
                reel.style.transform = `translateX(-50%) translateY(${movement}%)`;

                // Update number periodically during spin
                if (Math.floor(elapsed / 60) !== Math.floor((elapsed - 16) / 60)) {
                    digit.textContent = newValue;
                    currentValue = newValue;
                }

            } else {
                // Settling phase - smooth approach to target
                const settleProgress = (elapsed - spinDuration) / settleDuration;
                const easeOut = 1 - Math.pow(1 - Math.min(settleProgress, 1), 4);

                // Smooth approach to target value with better interpolation
                const difference = target - currentValue;
                const settleValue = currentValue + (difference * easeOut);

                // Only update if there's a meaningful change
                if (Math.abs(settleValue - currentValue) > 0.1) {
                    digit.textContent = Math.floor(settleValue);
                    currentValue = settleValue;
                }

                // Gradual reduction of movement with smoother easing
                const movementIntensity = Math.max(0, 1 - Math.pow(settleProgress, 2));
                const movement = Math.sin(elapsed * 0.08) * movementIntensity * 10;
                reel.style.transform = `translateX(-50%) translateY(${movement}%)`;
            }

            if (totalProgress < 1) {
                animationId = requestAnimationFrame(animate);
            } else {
              // Smooth final transition
              reel.style.transition = 'transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
              reel.style.transform = 'translateX(-50%) translateY(-20%)';

              setTimeout(() => {
                  digit.textContent = finalText;
                  reel.style.transform = 'translateX(-50%) translateY(0%)';

                  // Apply pop effect to all stats
                  element.style.transition = 'transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                  element.style.transform = 'scale(1.1)';

                  setTimeout(() => {
                      element.style.transform = 'scale(1)';
                      setTimeout(() => {
                          element.style.transition = '';
                          reel.style.transition = '';
                      }, 300);
                  }, 150); // unified timing for all stats
              }, 200);
          }
        }

        animationId = requestAnimationFrame(animate);
    }

    // Start animations when page loads
    window.addEventListener('load', () => {
        const statNumbers = document.querySelectorAll('.stat-number');

        // Add a small delay before starting the animations
        setTimeout(() => {
            statNumbers.forEach((element, index) => {
                const target = parseInt(element.getAttribute('data-target'));
                const finalText = element.textContent; // Keep original text like "250+" or "60+"

                // Stagger the animations slightly
                setTimeout(() => {
                    animateSlotMachine(element, target, finalText, 2500);
                }, index * 200);
            });
        }, 300);
    });
</script>
</body>
</html>
